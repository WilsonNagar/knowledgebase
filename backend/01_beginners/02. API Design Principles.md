---
number: 2
title: "API Design Principles"
slug: "api-design-principles"
level: "beginner"
tags: ["backend", "api", "rest", "design", "best-practices"]
prerequisites: ["backend-development-fundamentals"]
estimated_minutes: 100
contributors: []
diagrams: []
examples: []
canonical_id: "backend-beginner-02"
---

# API Design Principles

## Overview

Well-designed APIs are the foundation of modern backend systems. This guide covers RESTful API design principles, HTTP methods and status codes, URL structure, request/response formats, versioning strategies, error handling, and API documentation best practices.

## Deep Explanation

### REST Principles

**REST** (Representational State Transfer) principles:

1. **Stateless**: Each request contains all information needed
2. **Client-Server**: Separation of concerns
3. **Uniform Interface**: Consistent resource identification
4. **Cacheable**: Responses can be cached
5. **Layered System**: Can have intermediaries (proxies, gateways)

### HTTP Methods

**GET**: Retrieve resource
```
GET /api/users/123
```

**POST**: Create resource
```
POST /api/users
Body: {"name": "John", "email": "john@example.com"}
```

**PUT**: Update/replace resource
```
PUT /api/users/123
Body: {"name": "John Updated", "email": "john@example.com"}
```

**PATCH**: Partial update
```
PATCH /api/users/123
Body: {"name": "John Updated"}
```

**DELETE**: Remove resource
```
DELETE /api/users/123
```

### URL Design

**Good Practices**:
- Use nouns, not verbs: `/api/users` not `/api/getUsers`
- Use plural nouns: `/api/users` not `/api/user`
- Use hierarchical structure: `/api/users/123/posts`
- Use query parameters for filtering: `/api/users?status=active&limit=10`

**Bad Examples**:
```
/api/getUserById/123
/api/user/create
/api/deleteUser/123
```

**Good Examples**:
```
/api/users/123
POST /api/users
DELETE /api/users/123
```

### HTTP Status Codes

**2xx Success**:
- `200 OK`: Successful GET, PUT, PATCH
- `201 Created`: Successful POST
- `204 No Content`: Successful DELETE

**4xx Client Error**:
- `400 Bad Request`: Invalid request
- `401 Unauthorized`: Authentication required
- `403 Forbidden`: Not authorized
- `404 Not Found`: Resource doesn't exist
- `409 Conflict`: Resource conflict

**5xx Server Error**:
- `500 Internal Server Error`: Server error
- `503 Service Unavailable`: Service down

### Request/Response Format

**Request Headers**:
```
Content-Type: application/json
Authorization: Bearer token
Accept: application/json
```

**Response Format**:
```json
{
  "data": {
    "id": 123,
    "name": "John Doe"
  },
  "meta": {
    "timestamp": "2024-01-01T00:00:00Z"
  }
}
```

**Error Response**:
```json
{
  "error": {
    "code": "USER_NOT_FOUND",
    "message": "User with id 123 not found",
    "details": {}
  }
}
```

## Real Code Examples

### Example: RESTful User API

```
# List users
GET /api/v1/users
Response: 200 OK
{
  "data": [
    {"id": 1, "name": "Alice"},
    {"id": 2, "name": "Bob"}
  ],
  "pagination": {
    "page": 1,
    "per_page": 20,
    "total": 2
  }
}

# Get user
GET /api/v1/users/123
Response: 200 OK
{
  "data": {
    "id": 123,
    "name": "John Doe",
    "email": "john@example.com"
  }
}

# Create user
POST /api/v1/users
Body: {"name": "Jane", "email": "jane@example.com"}
Response: 201 Created
{
  "data": {
    "id": 124,
    "name": "Jane",
    "email": "jane@example.com"
  }
}

# Update user
PATCH /api/v1/users/123
Body: {"name": "John Updated"}
Response: 200 OK
{
  "data": {
    "id": 123,
    "name": "John Updated",
    "email": "john@example.com"
  }
}

# Delete user
DELETE /api/v1/users/123
Response: 204 No Content
```

## Hard Use-Case: API Versioning Strategy

### Problem Statement

Design an API versioning strategy that allows evolution without breaking existing clients.

### Solution

**Approach 1: URL Versioning**
```
/api/v1/users
/api/v2/users
```

**Approach 2: Header Versioning**
```
Accept: application/vnd.api.v1+json
```

**Approach 3: Query Parameter**
```
/api/users?version=1
```

**Best Practice**: Use URL versioning for major versions, maintain backward compatibility within versions.

**Implementation**:
- Keep v1 active while developing v2
- Deprecate v1 with timeline
- Provide migration guides
- Monitor usage to determine deprecation timeline

## Edge Cases and Pitfalls

### Common Mistakes

1. **Inconsistent Naming**
   - Bad: `/api/users`, `/api/getPosts`, `/api/deleteComment`
   - Good: `/api/users`, `/api/posts`, `/api/comments`

2. **Wrong HTTP Methods**
   - Bad: `GET /api/users/delete/123`
   - Good: `DELETE /api/users/123`

3. **Poor Error Messages**
   - Bad: `{"error": "Error occurred"}`
   - Good: `{"error": {"code": "VALIDATION_ERROR", "message": "Email is required", "field": "email"}}`

## References and Further Reading

- REST API Tutorial
- HTTP/1.1 Specification
- API Design Guidelines

## Quiz

### Question 1
Which HTTP method should be used for creating a new resource?

**A)** GET  
**B)** POST  
**C)** PUT  
**D)** PATCH

**Answer: B** - POST is used for creating new resources.

### Question 2
What status code should be returned when a resource is successfully created?

**A)** 200  
**B)** 201  
**C)** 204  
**D)** 202

**Answer: B** - 201 Created indicates successful resource creation.

## Related Topics

- [Backend Development Fundamentals](./01.%20Backend%20Development%20Fundamentals.md)
- [Database Fundamentals](./03.%20Database%20Fundamentals.md)

