---
number: 2
title: "Real-Time Systems"
slug: "real-time-systems"
level: "advanced"
tags: ["operating-systems", "realtime", "rtos", "scheduling", "deadlines"]
prerequisites: ["kernel-debugging-advanced"]
estimated_minutes: 150
contributors: []
diagrams: []
examples: []
canonical_id: "cs-os-adv-02"
---

# Real-Time Systems

## Overview

Real-time systems must respond to events within strict time constraints. Understanding real-time scheduling algorithms, deadline guarantees, RTOS (Real-Time Operating System) design, and real-time system architecture is essential for building systems with timing requirements.

## Table of Contents

1. [What are Real-Time Systems?](#what-is-realtime)
2. [Hard vs Soft Real-Time](#hard-soft)
3. [Real-Time Scheduling](#realtime-scheduling)
4. [Rate Monotonic Scheduling](#rate-monotonic)
5. [Earliest Deadline First](#earliest-deadline)
6. [Real-Time Operating Systems](#rtos)
7. [Real-Time Linux](#realtime-linux)
8. [Best Practices](#best-practices)

## What are Real-Time Systems?

### Definition

**Real-Time System**: System with timing constraints

**Requirement**: 
- **Deadlines**: Meet deadlines
- **Predictability**: Predictable behavior
- **Determinism**: Deterministic execution

**Use Cases**: 
- **Control Systems**: Control systems
- **Avionics**: Aircraft systems
- **Medical**: Medical devices
- **Automotive**: Automotive systems

### Real-Time Characteristics

**1. Timing Constraints**:
```
Must meet deadlines
```

**2. Predictability**:
```
Predictable execution time
```

**3. Determinism**:
```
Deterministic behavior
```

**4. Reliability**:
```
High reliability
```

## Hard vs Soft Real-Time

### Hard Real-Time

**Hard Real-Time**: 
- **Deadlines**: Must meet deadlines
- **Failure**: Missing deadline = failure
- **Guarantees**: Strong guarantees

**Examples**: 
- **Medical**: Life-critical systems
- **Avionics**: Flight control
- **Safety**: Safety-critical systems

### Soft Real-Time

**Soft Real-Time**: 
- **Deadlines**: Should meet deadlines
- **Degradation**: Missing deadline = degradation
- **Best Effort**: Best effort

**Examples**: 
- **Multimedia**: Video streaming
- **Games**: Video games
- **UI**: User interfaces

## Real-Time Scheduling

### Scheduling Requirements

**Requirements**: 
- **Deadlines**: Meet deadlines
- **Predictability**: Predictable
- **Preemption**: Preemptive
- **Priority**: Priority-based

**Algorithms**: 
- **Rate Monotonic**: Rate Monotonic Scheduling
- **Earliest Deadline First**: EDF
- **Priority Inheritance**: Priority inheritance

## Rate Monotonic Scheduling

### What is RMS?

**RMS**: Rate Monotonic Scheduling

**Principle**: Higher frequency = higher priority

**Method**: 
```
1. Assign priorities by period
2. Shorter period = higher priority
3. Preemptive scheduling
```

**Schedulability**: 
```
Utilization <= n(2^(1/n) - 1)
```

**Use**: Periodic tasks

### RMS Example

**Tasks**:
```
Task A: Period 10ms, Execution 3ms
Task B: Period 20ms, Execution 5ms
Task C: Period 40ms, Execution 10ms
```

**Priorities**: 
- **A**: Highest (shortest period)
- **B**: Medium
- **C**: Lowest (longest period)

**Scheduling**: Preemptive by priority

## Earliest Deadline First

### What is EDF?

**EDF**: Earliest Deadline First

**Principle**: Earliest deadline runs first

**Method**: 
```
1. Calculate deadlines
2. Schedule earliest deadline first
3. Preemptive scheduling
```

**Schedulability**: 
```
Utilization <= 1.0
```

**Use**: Dynamic deadlines

### EDF Example

**Tasks**:
```
Task 1: Deadline 10ms
Task 2: Deadline 15ms
Task 3: Deadline 20ms
```

**Scheduling**: 
- **0-10ms**: Task 1 (earliest deadline)
- **10-15ms**: Task 2 (next deadline)
- **15-20ms**: Task 3 (next deadline)

## Real-Time Operating Systems

### RTOS Characteristics

**RTOS Features**: 
- **Deterministic**: Deterministic scheduling
- **Preemptive**: Preemptive scheduling
- **Priority**: Priority-based
- **Bounded**: Bounded response times

**Examples**: 
- **FreeRTOS**: FreeRTOS
- **VxWorks**: VxWorks
- **QNX**: QNX
- **RT Linux**: Real-Time Linux

### RTOS Components

**1. Scheduler**:
```
Real-time scheduler
```

**2. Interrupt Handling**:
```
Fast interrupt handling
```

**3. Memory Management**:
```
Deterministic memory
```

**4. Synchronization**:
```
Real-time synchronization
```

## Real-Time Linux

### Real-Time Linux

**RT Linux**: Linux with real-time patches

**Features**: 
- **PREEMPT_RT**: Preemptible kernel
- **Priority Inversion**: Priority inheritance
- **Deterministic**: More deterministic

**Use**: Real-time Linux applications

### PREEMPT_RT

**PREEMPT_RT**: Preemptible real-time

**Changes**: 
- **Preemptible Kernel**: Most kernel preemptible
- **Spinlocks**: Converted to mutexes
- **Interrupts**: Threaded interrupts

**Benefit**: Lower latency

## Best Practices

### Practice 1: Analyze Timing

**Analyze**: 
```
Analyze worst-case execution time
Verify schedulability
```

**Benefit**: Guarantee deadlines

### Practice 2: Use Appropriate Scheduling

**Choose**: 
```
Match scheduler to workload
RMS for periodic, EDF for dynamic
```

**Benefit**: Optimal scheduling

### Practice 3: Minimize Interrupts

**Minimize**: 
```
Minimize interrupt latency
Use fast interrupt handlers
```

**Benefit**: Predictable timing

## Real-World Examples

### Example 1: Flight Control

**System**: Aircraft flight control

**Requirements**: 
- **Hard Real-Time**: Hard deadlines
- **Safety**: Safety-critical
- **Deterministic**: Deterministic

**RTOS**: VxWorks, QNX

**Result**: Reliable flight control

### Example 2: Medical Device

**System**: Medical device

**Requirements**: 
- **Hard Real-Time**: Hard deadlines
- **Reliability**: High reliability
- **Certification**: Medical certification

**RTOS**: Certified RTOS

**Result**: Safe medical device

## Common Pitfalls

### Problem: Ignoring Worst Case

```c
// BAD: Optimize for average case
// Miss deadlines

// GOOD: Analyze worst case
// Guarantee deadlines
```

### Problem: Priority Inversion

```c
// BAD: Priority inversion
// High priority blocked

// GOOD: Use priority inheritance
// Prevent inversion
```

## Quiz

1. What is a real-time system?
   - **A)** Fast system
   - **B)** System with strict timing constraints and deadline requirements
   - **C)** Slow system
   - **D)** Normal system

2. What is Rate Monotonic Scheduling?
   - **A)** Random scheduling
   - **B)** Priority-based scheduling where shorter period = higher priority
   - **C)** Round-robin scheduling
   - **D)** First-come-first-served

3. What is EDF?
   - **A)** Latest deadline first
   - **B)** Earliest Deadline First - schedule task with earliest deadline
   - **C)** Random deadline
   - **D)** No deadlines

**Answers:**
1. **B** - Real-time systems must respond within strict time constraints, with hard real-time requiring guaranteed deadline meeting
2. **B** - Rate Monotonic Scheduling assigns higher priority to tasks with shorter periods (higher frequency)
3. **B** - Earliest Deadline First schedules the task with the earliest deadline first, providing optimal scheduling for dynamic deadlines

## Next Steps

- [Embedded Systems OS](./03.%20Embedded%20Systems%20OS.md) - Embedded OS
- [Kernel Debugging Advanced](./01.%20Kernel%20Debugging%20Advanced.md) - Advanced debugging
- [Power Management](../02_intermediate/14.%20Power%20Management.md) - Power optimization
- [Process Scheduling Advanced](../02_intermediate/17.%20Process%20Scheduling%20Advanced%20-%20CFS,%20MLFQ.md) - Advanced scheduling

