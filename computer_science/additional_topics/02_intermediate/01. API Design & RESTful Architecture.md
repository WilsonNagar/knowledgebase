---
number: 1
title: "API Design & RESTful Architecture"
slug: "api-design-restful-architecture"
level: "intermediate"
tags: ["api", "rest", "restful", "api-design", "web-services"]
prerequisites: ["version-control-systems-git-advanced"]
estimated_minutes: 150
contributors: []
diagrams: []
examples: []
canonical_id: "cs-add-int-01"
---

# API Design & RESTful Architecture

## Overview

RESTful API design enables building scalable, maintainable web services. Understanding REST principles, HTTP methods, resource design, versioning, authentication, and API best practices is essential for creating effective APIs.

## Table of Contents

1. [What is REST?](#what-is-rest)
2. [REST Principles](#rest-principles)
3. [HTTP Methods](#http-methods)
4. [Resource Design](#resource-design)
5. [API Versioning](#versioning)
6. [Authentication & Authorization](#auth)
7. [Error Handling](#error-handling)
8. [Best Practices](#best-practices)

## What is REST?

### Definition

**REST**: Representational State Transfer

**Architecture Style**: 
```
Stateless client-server architecture
Resource-based
```

**Characteristics**: 
- **Stateless**: No server-side session
- **Resource-Based**: Resources as nouns
- **HTTP**: Uses HTTP methods
- **JSON/XML**: Data formats

**Use**: Web APIs, microservices

### REST vs SOAP

**REST**: 
```
Simple, lightweight
HTTP-based
JSON/XML
```

**SOAP**: 
```
Complex, heavyweight
XML-based
WSDL
```

**Trend**: REST more popular

## REST Principles

### REST Constraints

**1. Client-Server**: 
```
Separation of concerns
```

**2. Stateless**: 
```
No server-side state
```

**3. Cacheable**: 
```
Responses cacheable
```

**4. Uniform Interface**: 
```
Consistent interface
```

**5. Layered System**: 
```
Layered architecture
```

**6. Code on Demand** (optional):
```
Client-side code
```

## HTTP Methods

### HTTP Verbs

**GET**: 
```
Retrieve resource
Idempotent, safe
```

**POST**: 
```
Create resource
Not idempotent
```

**PUT**: 
```
Update/replace resource
Idempotent
```

**PATCH**: 
```
Partial update
Idempotent
```

**DELETE**: 
```
Delete resource
Idempotent
```

### Method Usage

**Example**:
```
GET    /api/users          # List users
GET    /api/users/1        # Get user 1
POST   /api/users          # Create user
PUT    /api/users/1        # Update user 1
PATCH  /api/users/1        # Partial update
DELETE /api/users/1        # Delete user 1
```

## Resource Design

### Resource Naming

**Nouns, Not Verbs**: 
```
/users not /getUsers
```

**Plural Nouns**: 
```
/users not /user
```

**Hierarchical**: 
```
/users/1/posts
```

**Consistent**: 
```
Consistent naming
```

### Resource Examples

**Good**:
```
GET    /api/users
GET    /api/users/123
GET    /api/users/123/posts
POST   /api/users
PUT    /api/users/123
DELETE /api/users/123
```

**Bad**:
```
GET    /api/getUsers
GET    /api/user/123
GET    /api/users/123/getPosts
POST   /api/createUser
```

## API Versioning

### Versioning Strategies

**1. URL Versioning**: 
```
/api/v1/users
/api/v2/users
```

**2. Header Versioning**: 
```
Accept: application/vnd.api.v1+json
```

**3. Query Parameter**: 
```
/api/users?version=1
```

**Best Practice**: URL versioning

### Versioning Example

**Example**:
```
/api/v1/users
/api/v2/users
```

**Migration**: 
```
Support multiple versions
Deprecate old versions
```

## Authentication & Authorization

### Authentication Methods

**1. API Keys**: 
```
Simple, less secure
```

**2. OAuth 2.0**: 
```
Industry standard
```

**3. JWT**: 
```
JSON Web Tokens
Stateless
```

**4. Basic Auth**: 
```
Username/password
Less secure
```

### Authorization

**RBAC**: 
```
Role-Based Access Control
```

**Permissions**: 
```
Fine-grained permissions
```

**Scopes**: 
```
OAuth scopes
```

## Error Handling

### HTTP Status Codes

**2xx Success**: 
- **200**: OK
- **201**: Created
- **204**: No Content

**4xx Client Error**: 
- **400**: Bad Request
- **401**: Unauthorized
- **403**: Forbidden
- **404**: Not Found
- **422**: Unprocessable Entity

**5xx Server Error**: 
- **500**: Internal Server Error
- **503**: Service Unavailable

### Error Response Format

**Format**:
```json
{
  "error": {
    "code": "USER_NOT_FOUND",
    "message": "User with ID 123 not found",
    "details": {}
  }
}
```

**Consistent**: Consistent error format

## Best Practices

### Practice 1: RESTful Design

**Design**: 
```
Follow REST principles
Resource-based
```

**Benefit**: Intuitive APIs

### Practice 2: Documentation

**Documentation**: 
```
API documentation
OpenAPI/Swagger
```

**Benefit**: Developer experience

### Practice 3: Rate Limiting

**Rate Limiting**: 
```
Limit requests
Prevent abuse
```

**Benefit**: Stability

### Practice 4: Pagination

**Pagination**: 
```
Paginate large results
Limit response size
```

**Benefit**: Performance

## Real-World Examples

### Example 1: GitHub API

**Use**: GitHub integration

**Design**: 
- **RESTful**: RESTful design
- **Versioned**: API versioning
- **Documented**: Well documented

**Result**: Popular API

### Example 2: Stripe API

**Use**: Payment processing

**Design**: 
- **RESTful**: RESTful
- **Secure**: OAuth, security
- **Reliable**: High reliability

**Result**: Trusted API

## Common Pitfalls

### Problem: Non-RESTful Design

```c
// BAD: Verbs in URLs
GET /api/getUsers
POST /api/createUser

// GOOD: RESTful
GET /api/users
POST /api/users
```

### Problem: Inconsistent Errors

```c
// BAD: Inconsistent error format
// Hard to handle

// GOOD: Consistent error format
// Easy to handle
```

## Quiz

1. What is REST?
   - **A)** Database
   - **B)** Representational State Transfer - stateless resource-based architecture
   - **C)** Framework
   - **D)** Language

2. What HTTP method creates a resource?
   - **A)** GET
   - **B)** POST
   - **C)** PUT
   - **D)** DELETE

3. What is API versioning?
   - **A)** No versioning
   - **B)** Managing API changes over time (URL, header, query parameter)
   - **C)** Single version
   - **D)** No changes

**Answers:**
1. **B** - REST is an architectural style using stateless, resource-based design with HTTP methods
2. **B** - POST creates new resources, while PUT updates/replaces existing resources
3. **B** - API versioning manages API evolution through URL paths (/v1/), headers, or query parameters

## Next Steps

- [Microservices Architecture Patterns](./02.%20Microservices%20Architecture%20Patterns.md) - Microservices
- [Event-Driven Architecture](./03.%20Event-Driven%20Architecture.md) - Event-driven

