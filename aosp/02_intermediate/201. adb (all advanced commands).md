---
number: 201
title: adb (all advanced commands)
slug: adb-all-advanced-commands
level: intermediate
tags:
  - aosp
  - adb
  - android-debug-bridge
  - debugging
  - advanced-commands
  - development-tools
prerequisites:
  - android-architecture-complete-overview
  - system-server-overview
estimated_minutes: 95
contributors: []
diagrams: []
examples: []
canonical_id: aosp-intermediate-201
---

# adb (all advanced commands)

## Overview

adb (Android Debug Bridge) is a versatile command-line tool that provides a communication bridge between a development machine and Android devices. Understanding all advanced ADB commands is essential for AOSP development, as it explains how to manage devices, transfer files, install applications, access shell, monitor system state, debug applications, and perform advanced system operations. This guide provides a comprehensive overview of advanced ADB commands, device management, file operations, application management, shell access, system monitoring, debugging commands, and automation.

Think of ADB like a Swiss Army knife for Android development: just as a Swiss Army knife provides multiple tools in one compact package (knife, screwdriver, can opener, etc.), ADB provides multiple capabilities in one tool (device communication, file transfer, app installation, shell access, debugging, system monitoring, etc.), making it an essential tool for Android development and AOSP work.

## Deep Explanation

### What is ADB?

adb (Android Debug Bridge) is a command-line tool that enables communication between a development machine and Android devices or emulators. ADB provides a wide range of capabilities for device management, debugging, and system administration.

**Key Characteristics:**
- **Command-Line Tool:** Command-line interface
- **Device Communication:** Communicates with Android devices
- **Multi-Device Support:** Supports multiple devices
- **Comprehensive:** Wide range of capabilities
- **Essential Tool:** Essential for Android development

**Why ADB?**
- **Device Management:** Manage Android devices
- **Debugging:** Debug applications and system
- **File Operations:** Transfer files to/from device
- **System Access:** Access system internals
- **Automation:** Automate development tasks

### Device Management Commands

#### Device Connection

**Device Connection:**
- List connected devices
- Connect to devices
- Manage device connections
- Handle multiple devices
- Device state management

**Connection Commands:**
```bash
# List all connected devices
adb devices

# List devices with details
adb devices -l

# Wait for device
adb wait-for-device

# Get device state
adb get-state

# Get device serial number
adb get-serialno

# Get device path
adb get-devpath
```

**Connection Characteristics:**
- Device listing
- State checking
- Serial number retrieval
- Connection management
- Multi-device support

#### Device Selection

**Device Selection:**
- Select specific device
- Use device serial
- Handle multiple devices
- Device targeting
- Command routing

**Selection Commands:**
```bash
# Use specific device by serial
adb -s <serial> <command>

# Use specific device by transport ID
adb -t <transport-id> <command>

# Example: Install on specific device
adb -s emulator-5554 install app.apk

# Example: Shell on specific device
adb -s ABC123XYZ shell
```

**Selection Characteristics:**
- Serial-based selection
- Transport ID selection
- Device targeting
- Command routing
- Multi-device management

### File Operations

#### File Transfer

**File Transfer:**
- Push files to device
- Pull files from device
- Sync directories
- Handle permissions
- Manage file operations

**Transfer Commands:**
```bash
# Push file to device
adb push local_file.txt /sdcard/remote_file.txt

# Pull file from device
adb pull /sdcard/remote_file.txt local_file.txt

# Push with specific permissions
adb push -p local_file.txt /sdcard/remote_file.txt

# Sync directory
adb sync <local-dir> <remote-dir>

# Push to system (requires root)
adb root
adb remount
adb push file.txt /system/etc/
```

**Transfer Characteristics:**
- File pushing
- File pulling
- Directory syncing
- Permission handling
- System access

#### File Management

**File Management:**
- List files
- Create directories
- Remove files
- Set permissions
- Manage file system

**Management Commands:**
```bash
# List files
adb shell ls -la /sdcard/

# Create directory
adb shell mkdir -p /sdcard/my_directory

# Remove file
adb shell rm /sdcard/file.txt

# Set permissions
adb shell chmod 644 /sdcard/file.txt

# Set ownership
adb shell chown system:system /sdcard/file.txt
```

**Management Characteristics:**
- File listing
- Directory creation
- File removal
- Permission management
- Ownership management

### Application Management

#### App Installation

**App Installation:**
- Install applications
- Uninstall applications
- Update applications
- Install to specific location
- Handle installation options

**Installation Commands:**
```bash
# Install APK
adb install app.apk

# Install with replacement
adb install -r app.apk

# Install with downgrade
adb install -d app.apk

# Install to specific location
adb install -s app.apk

# Install with grant permissions
adb install -g app.apk

# Install multiple APKs
adb install-multiple app1.apk app2.apk

# Uninstall app
adb uninstall com.example.app

# Uninstall keeping data
adb uninstall -k com.example.app
```

**Installation Characteristics:**
- APK installation
- Installation options
- App uninstallation
- Multi-APK support
- Permission handling

#### App Management

**App Management:**
- List packages
- Get package info
- Clear app data
- Force stop apps
- Manage app components

**Management Commands:**
```bash
# List all packages
adb shell pm list packages

# List third-party packages
adb shell pm list packages -3

# Get package info
adb shell pm dump com.example.app

# Clear app data
adb shell pm clear com.example.app

# Force stop app
adb shell am force-stop com.example.app

# Disable app
adb shell pm disable com.example.app

# Enable app
adb shell pm enable com.example.app
```

**Management Characteristics:**
- Package listing
- Package information
- Data management
- App control
- Component management

### Shell Access

#### Shell Commands

**Shell Access:**
- Execute shell commands
- Interactive shell
- Non-interactive commands
- Root access
- System commands

**Shell Commands:**
```bash
# Execute single command
adb shell <command>

# Interactive shell
adb shell

# Execute as root
adb root
adb shell

# Execute with specific user
adb shell run-as com.example.app <command>

# Execute with su
adb shell su -c "<command>"
```

**Shell Characteristics:**
- Command execution
- Interactive access
- Root access
- User switching
- System access

#### Advanced Shell Operations

**Advanced Operations:**
- System property access
- Service management
- Process management
- System state inspection
- Advanced debugging

**Advanced Commands:**
```bash
# Get system property
adb shell getprop ro.build.version.release

# Set system property (requires root)
adb shell setprop debug.property value

# List all properties
adb shell getprop

# Dump system service
adb shell dumpsys <service>

# List all services
adb shell service list

# Kill process
adb shell kill <pid>

# Monitor processes
adb shell top
```

**Advanced Characteristics:**
- Property access
- Service management
- Process control
- System inspection
- Advanced operations

### System Monitoring

#### Log Monitoring

**Log Monitoring:**
- View logcat
- Filter logs
- Clear logs
- Save logs
- Monitor specific tags

**Log Commands:**
```bash
# View all logs
adb logcat

# View with filters
adb logcat -s TagName

# Clear log buffer
adb logcat -c

# Save logs to file
adb logcat > log.txt

# View specific buffer
adb logcat -b main
adb logcat -b system
adb logcat -b radio
adb logcat -b events
adb logcat -b crash

# View with timestamps
adb logcat -v time

# View with process IDs
adb logcat -v process
```

**Log Characteristics:**
- Log viewing
- Filtering
- Buffer selection
- Log saving
- Format options

#### System State Monitoring

**State Monitoring:**
- Monitor system services
- Check device state
- Monitor performance
- Track system events
- Inspect system state

**Monitoring Commands:**
```bash
# Dump all services
adb shell dumpsys

# Dump specific service
adb shell dumpsys activity
adb shell dumpsys window
adb shell dumpsys package
adb shell dumpsys meminfo
adb shell dumpsys battery

# Get device info
adb shell getprop

# Monitor CPU
adb shell top

# Monitor memory
adb shell dumpsys meminfo

# Monitor battery
adb shell dumpsys batterystats
```

**Monitoring Characteristics:**
- Service inspection
- State checking
- Performance monitoring
- Event tracking
- System inspection

### Advanced Operations

#### Root and Remount

**Root Operations:**
- Gain root access
- Remount partitions
- System partition access
- Permission elevation
- System modification

**Root Commands:**
```bash
# Restart adbd with root permissions
adb root

# Remount system partition as read-write
adb remount

# Verify root access
adb shell id
# Should show uid=0 (root)

# Access system partition
adb shell mount -o rw,remount /system

# Push to system
adb push file.txt /system/etc/
```

**Root Characteristics:**
- Root access
- Partition remounting
- System access
- Permission elevation
- System modification

#### Backup and Restore

**Backup/Restore:**
- Backup app data
- Backup system data
- Restore backups
- Encrypted backups
- Full device backup

**Backup Commands:**
```bash
# Backup app
adb backup -f backup.ab com.example.app

# Backup all apps
adb backup -f backup.ab -all

# Backup with encryption
adb backup -f backup.ab -all -encrypted

# Backup system settings
adb backup -f backup.ab -system

# Restore backup
adb restore backup.ab

# Backup to tar
adb shell "tar -czf /sdcard/backup.tar.gz /data/data/com.example.app"
adb pull /sdcard/backup.tar.gz
```

**Backup Characteristics:**
- App backup
- System backup
- Encrypted backup
- Restore operations
- Archive formats

### Network and Port Forwarding

#### Port Forwarding

**Port Forwarding:**
- Forward TCP ports
- Reverse port forwarding
- Network debugging
- Service access
- Remote debugging

**Forwarding Commands:**
```bash
# Forward local port to device
adb forward tcp:8080 tcp:8080

# Forward local port to Unix socket
adb forward tcp:8080 local:/socket

# List all forwards
adb forward --list

# Remove forward
adb forward --remove tcp:8080

# Reverse forward (device to host)
adb reverse tcp:8080 tcp:8080

# List reverse forwards
adb reverse --list
```

**Forwarding Characteristics:**
- TCP forwarding
- Unix socket forwarding
- Reverse forwarding
- Forward management
- Network access

#### Network Operations

**Network Operations:**
- Network debugging
- Service access
- Remote connections
- Network configuration
- Connectivity testing

**Network Commands:**
```bash
# Enable network ADB
adb tcpip 5555

# Connect via network
adb connect <device-ip>:5555

# Disconnect network device
adb disconnect <device-ip>:5555

# Check network connectivity
adb shell ping -c 4 8.8.8.8

# View network interfaces
adb shell ip addr show
```

**Network Characteristics:**
- Network ADB
- Remote connection
- Connectivity testing
- Network configuration
- Service access

### Best Practices

#### Best Practices

**Best Practices:**
- Use device serial for multiple devices
- Verify device state before operations
- Test commands before automation
- Document complex workflows
- Handle errors gracefully

**Practice Guidelines:**
- **Device Selection:** Use device serial for multiple devices
- **State Verification:** Verify device state before operations
- **Testing:** Test commands before automation
- **Documentation:** Document complex workflows
- **Error Handling:** Handle errors gracefully

#### Common Use Cases

**Common Use Cases:**
- Development debugging
- System administration
- App testing
- Performance analysis
- Automation scripts

**Use Case Examples:**
- Debug app crashes
- Monitor system performance
- Install test builds
- Extract logs
- Automate testing

## Key Takeaways

1. **adb (Android Debug Bridge)** is a versatile command-line tool that provides a communication bridge between a development machine and Android devices, enabling device management, debugging, and system administration.

2. **Device management commands** include device connection (list connected devices, connect to devices, manage device connections, handle multiple devices, device state management), device selection (select specific device, use device serial, handle multiple devices, device targeting, command routing), and management characteristics.

3. **File operations** include file transfer (push files to device, pull files from device, sync directories, handle permissions, manage file operations), file management (list files, create directories, remove files, set permissions, manage file system), and operation characteristics.

4. **Application management** includes app installation (install applications, uninstall applications, update applications, install to specific location, handle installation options), app management (list packages, get package info, clear app data, force stop apps, manage app components), and management characteristics.

5. **Shell access** includes shell commands (execute shell commands, interactive shell, non-interactive commands, root access, system commands), advanced shell operations (system property access, service management, process management, system state inspection, advanced debugging), and access characteristics.

6. **System monitoring** includes log monitoring (view logcat, filter logs, clear logs, save logs, monitor specific tags), system state monitoring (monitor system services, check device state, monitor performance, track system events, inspect system state), and monitoring characteristics.

7. **Advanced operations** include root and remount (gain root access, remount partitions, system partition access, permission elevation, system modification), backup and restore (backup app data, backup system data, restore backups, encrypted backups, full device backup), network and port forwarding (forward TCP ports, reverse port forwarding, network debugging, service access, remote debugging), and operation characteristics.

8. **Best practices** include best practices (use device serial for multiple devices, verify device state before operations, test commands before automation, document complex workflows, handle errors gracefully), common use cases (development debugging, system administration, app testing, performance analysis, automation scripts), and practice guidelines.

9. **Understanding all advanced ADB commands** is essential for AOSP development, enabling device management, debugging, file operations, system administration, automation, and proper ADB usage.

## Related Topics

- **Android Architecture - Complete Overview:** Architecture details
- **System Server Overview:** SystemServer details

