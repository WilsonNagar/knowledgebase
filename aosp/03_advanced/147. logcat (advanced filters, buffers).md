---
number: 147
title: 'logcat (advanced filters, buffers)'
slug: logcat-advanced-filters-buffers
level: advanced
tags:
  - aosp
  - debugging
  - logcat
  - logging
  - filters
  - buffers
  - system-tools
prerequisites:
  - android-architecture-complete-overview
  - logging-in-native-layers
estimated_minutes: 95
contributors: []
diagrams: []
examples: []
canonical_id: aosp-advanced-147
---

# logcat (advanced filters, buffers)

## Overview

logcat is Android's logging system that provides access to system and application logs through multiple log buffers. Advanced logcat usage involves filtering logs by tags, priorities, processes, and using different log buffers (main, system, radio, events, crash) to efficiently debug and monitor the Android system. Understanding advanced logcat filters and buffers is essential for AOSP development, as it explains how to effectively use logcat for debugging, how to filter logs efficiently, how to use different log buffers, how to save and analyze logs, and how to monitor system behavior. This guide provides a comprehensive overview of logcat advanced filters and buffers, log buffers, filtering techniques, output formats, and logcat best practices.

Think of logcat like a security camera system with multiple cameras: just as a security system might have multiple cameras (main entrance, parking lot, building interior) that can be viewed individually or together, logcat has multiple log buffers (main, system, radio, events, crash) that can be viewed individually or together, and you can filter what you see (by camera, by time, by event type).

## Deep Explanation

### What is logcat?

logcat is Android's logging system that provides access to system and application logs through multiple log buffers. logcat allows developers to view, filter, and analyze logs from the Android system and applications for debugging and monitoring purposes.

**Key Characteristics:**
- **Multiple Buffers:** Different log buffers for different components
- **Filtering:** Advanced filtering capabilities
- **Real-Time:** Real-time log viewing
- **Historical:** Access to historical logs
- **Flexible:** Flexible output formats

**Why logcat?**
- **Debugging:** Essential debugging tool
- **Monitoring:** Monitor system behavior
- **Diagnostics:** Diagnose issues
- **Analysis:** Analyze system behavior

### Log Buffers

#### Main Buffer

**Main Buffer:**
- Default log buffer
- Application and system logs
- Most common logs
- General debugging

**Main Buffer Characteristics:**
- **Default:** Default buffer for most logs
- **Application Logs:** Application-generated logs
- **System Logs:** System component logs
- **General Use:** General debugging use

**Usage:**
```bash
# View main buffer (default)
adb logcat

# Explicitly specify main buffer
adb logcat -b main
```

#### System Buffer

**System Buffer:**
- System service logs
- Framework logs
- System component logs
- System-level debugging

**System Buffer Characteristics:**
- **System Services:** System service logs
- **Framework:** Framework component logs
- **System Components:** System component logs
- **System Debugging:** System-level debugging

**Usage:**
```bash
# View system buffer
adb logcat -b system
```

#### Radio Buffer

**Radio Buffer:**
- Radio/telephony logs
- Cellular network logs
- Phone call logs
- SMS logs

**Radio Buffer Characteristics:**
- **Telephony:** Telephony subsystem logs
- **Cellular:** Cellular network logs
- **Phone Calls:** Phone call logs
- **SMS:** SMS logs

**Usage:**
```bash
# View radio buffer
adb logcat -b radio
```

#### Events Buffer

**Events Buffer:**
- Structured system events
- Binary format events
- Low-level events
- Event debugging

**Events Buffer Characteristics:**
- **Structured Events:** Structured system events
- **Binary Format:** Binary format events
- **Low-Level:** Low-level system events
- **Event Debugging:** Event debugging

**Usage:**
```bash
# View events buffer
adb logcat -b events
```

#### Crash Buffer

**Crash Buffer:**
- App crash logs
- ANR (Application Not Responding) logs
- Fatal errors
- Crash debugging

**Crash Buffer Characteristics:**
- **Crashes:** App crash logs
- **ANRs:** ANR logs
- **Fatal Errors:** Fatal error logs
- **Crash Debugging:** Crash debugging

**Usage:**
```bash
# View crash buffer
adb logcat -b crash
```

#### All Buffers

**All Buffers:**
- View logs from all buffers
- Combined output
- Comprehensive view
- Complete debugging

**Usage:**
```bash
# View all buffers
adb logcat -b all
```

### Advanced Filtering

#### Tag Filtering

**Tag Filtering:**
- Filter by log tag
- Multiple tags
- Tag patterns
- Tag exclusion

**Tag Filter Examples:**
```bash
# Filter by single tag
adb logcat -s ActivityManager

# Filter by multiple tags
adb logcat -s ActivityManager WindowManager

# Filter with priority
adb logcat ActivityManager:I WindowManager:W
```

#### Priority Filtering

**Priority Filtering:**
- Filter by log priority
- Priority levels: V, D, I, W, E
- Per-tag priorities
- Combined priorities

**Priority Levels:**
- **V (Verbose):** Most detailed
- **D (Debug):** Debug information
- **I (Info):** General information
- **W (Warning):** Warnings
- **E (Error):** Errors

**Priority Filter Examples:**
```bash
# Show only errors
adb logcat *:E

# Show warnings and above
adb logcat *:W

# Show info and above
adb logcat *:I

# Per-tag priorities
adb logcat MyTag:D *:E
```

#### Process Filtering

**Process Filtering:**
- Filter by process ID
- Filter by package name
- Process-specific logs
- App-specific debugging

**Process Filter Examples:**
```bash
# Filter by PID
adb logcat --pid=1234

# Filter by package (using grep)
adb logcat | grep com.example.app

# Get PID and filter
PID=$(adb shell pidof -s com.example.app)
adb logcat --pid=$PID
```

#### Combined Filters

**Combined Filters:**
- Multiple filter types
- Complex filtering
- Efficient debugging
- Targeted log viewing

**Combined Filter Examples:**
```bash
# Tag and priority
adb logcat ActivityManager:I *:E

# Multiple tags with priorities
adb logcat ActivityManager:I WindowManager:W *:E

# Process and tag
adb logcat --pid=1234 -s MyTag
```

### Output Formats

#### Brief Format

**Brief Format (Default):**
- Minimal information
- Tag, PID, message
- Compact output
- Default format

**Example:**
```
I/ActivityManager(  123): Starting activity
```

#### Time Format

**Time Format:**
- Includes timestamp
- Date and time
- Millisecond precision
- Time-based analysis

**Example:**
```
01-15 10:30:45.123  I/ActivityManager(  123): Starting activity
```

**Usage:**
```bash
# Time format
adb logcat -v time
```

#### Process Format

**Process Format:**
- Shows process name
- Instead of PID
- Process identification
- Easier reading

**Example:**
```
I(  123) ActivityManager  (  system_server): Starting activity
```

**Usage:**
```bash
# Process format
adb logcat -v process
```

#### Thread Format

**Thread Format:**
- Shows thread ID
- Thread identification
- Thread debugging
- Multi-threaded analysis

**Example:**
```
I(  123: 5678) ActivityManager: Starting activity
```

**Usage:**
```bash
# Thread format
adb logcat -v thread
```

#### Long Format

**Long Format:**
- Most detailed format
- All information
- Complete log entry
- Comprehensive debugging

**Example:**
```
[ 01-15 10:30:45.123  123: 5678 I/ActivityManager ]
Starting activity
```

**Usage:**
```bash
# Long format
adb logcat -v long
```

### Log Buffer Management

#### Buffer Size Management

**Buffer Size Management:**
- Get buffer sizes
- Set buffer sizes
- Buffer size configuration
- Memory management

**Buffer Size Commands:**
```bash
# Get current buffer sizes
adb logcat -g

# Set buffer size (requires root)
adb logcat -G 16M

# Set specific buffer size
adb logcat -G 16M:16M:16M
```

#### Buffer Clearing

**Buffer Clearing:**
- Clear all buffers
- Clear specific buffer
- Fresh start
- Clean logging

**Buffer Clearing Commands:**
```bash
# Clear all buffers
adb logcat -c

# Clear specific buffer
adb logcat -b main -c
```

### Log Saving and Analysis

#### Saving Logs

**Saving Logs:**
- Save to file
- Save with format
- Save filtered logs
- Log persistence

**Saving Examples:**
```bash
# Save all logs
adb logcat > logcat.txt

# Save with timestamps
adb logcat -v time > logcat.txt

# Save filtered logs
adb logcat *:E > errors.txt

# Save with rotation
adb logcat -r 1000 -n 10 -f /sdcard/logcat.txt
```

#### Log Rotation

**Log Rotation:**
- Rotate when size reached
- Keep multiple files
- Automatic rotation
- Long-term logging

**Rotation Example:**
```bash
# Rotate at 1000KB, keep 10 files
adb logcat -r 1000 -n 10 -f /sdcard/logcat.txt
```

### Advanced Techniques

#### Historical Logs

**Historical Logs:**
- View logs from specific time
- View last N lines
- Time-based viewing
- Historical analysis

**Historical Examples:**
```bash
# View logs from specific time
adb logcat -t '01-15 10:30:00.000'

# View last 100 lines
adb logcat -t 100

# View last 1000 lines
adb logcat -t 1000
```

#### Regex Filtering

**Regex Filtering:**
- Pattern matching
- Complex filters
- Flexible filtering
- Advanced search

**Regex Examples:**
```bash
# Filter for errors or exceptions
adb logcat | grep -E "Error|Exception|FATAL"

# Case-insensitive search
adb logcat | grep -i "crash"

# Multiple patterns
adb logcat | grep -E "Error|Exception|NullPointer"
```

### logcat Best Practices

#### Best Practices

**Best Practices:**
- Use timestamps when saving
- Clear buffer before important operations
- Use specific filters
- Save logs for analysis
- Use appropriate buffer

**Practice Guidelines:**
- **Timestamps:** Always use -v time when saving
- **Clear Buffer:** Clear before important operations
- **Specific Filters:** Use specific filters to reduce noise
- **Log Saving:** Save logs for later analysis
- **Appropriate Buffer:** Use appropriate buffer for task

### Debugging with logcat

#### Common Debugging Scenarios

**Scenario 1: App Crash**
```bash
# Clear and monitor crash buffer
adb logcat -c
adb logcat -b crash

# Or filter for exceptions
adb logcat *:E | grep -i exception
```

**Scenario 2: ANR Debugging**
```bash
# Monitor ANR logs
adb logcat -b crash | grep -i anr

# Or filter ActivityManager
adb logcat -s ActivityManager | grep -i anr
```

**Scenario 3: System Service Issues**
```bash
# Monitor system buffer
adb logcat -b system

# Filter specific service
adb logcat -b system -s MyService
```

## Key Takeaways

1. **logcat** is Android's logging system that provides access to system and application logs through multiple log buffers, with advanced filtering capabilities.

2. **Log buffers** include main buffer (default, application and system logs), system buffer (system service logs, framework logs), radio buffer (radio/telephony logs, cellular network logs), events buffer (structured system events, binary format), crash buffer (app crash logs, ANR logs), all buffers (view logs from all buffers), and buffer characteristics.

3. **Advanced filtering** includes tag filtering (filter by log tag, multiple tags, tag patterns), priority filtering (filter by log priority, priority levels V/D/I/W/E, per-tag priorities), process filtering (filter by process ID, filter by package name), combined filters (multiple filter types, complex filtering), and filter examples.

4. **Output formats** include brief format (default, minimal information), time format (includes timestamp, date and time, millisecond precision), process format (shows process name, instead of PID), thread format (shows thread ID, thread identification), long format (most detailed format, all information), and format usage.

5. **Log buffer management** includes buffer size management (get buffer sizes, set buffer sizes, buffer size configuration), buffer clearing (clear all buffers, clear specific buffer, fresh start), and management commands.

6. **Log saving and analysis** includes saving logs (save to file, save with format, save filtered logs), log rotation (rotate when size reached, keep multiple files, automatic rotation), and saving examples.

7. **Advanced techniques** include historical logs (view logs from specific time, view last N lines, time-based viewing), regex filtering (pattern matching, complex filters, flexible filtering), and advanced examples.

8. **logcat best practices** include best practices (use timestamps when saving, clear buffer before important operations, use specific filters, save logs for analysis, use appropriate buffer), practice guidelines, and common debugging scenarios.

9. **Understanding logcat advanced filters and buffers** is essential for AOSP development, enabling efficient debugging, system monitoring, log analysis, and proper logcat usage.

## Related Topics

- **dumpsys:** System service dumps
- **dumpstate:** Complete system state dump
- **Logging in native layers:** Native logging details

