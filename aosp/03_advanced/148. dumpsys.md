---
number: 148
title: dumpsys
slug: dumpsys
level: advanced
tags:
  - aosp
  - debugging
  - dumpsys
  - system-tools
  - service-dumps
  - system-debugging
prerequisites:
  - android-architecture-complete-overview
  - system-server-overview
estimated_minutes: 95
contributors: []
diagrams: []
examples: []
canonical_id: aosp-advanced-148
---

# dumpsys

## Overview

dumpsys is a system tool that dumps the state of Android system services, providing detailed information about service state, configuration, statistics, and internal data structures. dumpsys allows developers to inspect the state of system services, debug service issues, monitor service behavior, and understand system internals. Understanding dumpsys is essential for AOSP development, as it explains how to use dumpsys to inspect system services, how to dump specific service information, how to interpret dumpsys output, how to use dumpsys for debugging, and how dumpsys provides system visibility. This guide provides a comprehensive overview of dumpsys, service dumps, dumpsys usage, output interpretation, and debugging techniques.

Think of dumpsys like a system diagnostic tool: just as a car diagnostic tool can read and display information from various car systems (engine, transmission, brakes), dumpsys can read and display information from various Android system services (ActivityManager, WindowManager, PackageManager), providing detailed state information for debugging and analysis.

## Deep Explanation

### What is dumpsys?

dumpsys is a system tool that dumps the state of Android system services, providing detailed information about service state, configuration, statistics, and internal data structures. dumpsys allows developers to inspect the state of system services for debugging and monitoring purposes.

**Key Characteristics:**
- **Service State:** Dumps service state
- **Detailed Information:** Detailed service information
- **Multiple Services:** Supports multiple services
- **Debugging Tool:** Essential debugging tool
- **System Visibility:** Provides system visibility

**Why dumpsys?**
- **Debugging:** Essential debugging tool
- **Service Inspection:** Inspect service state
- **Monitoring:** Monitor service behavior
- **Analysis:** Analyze system behavior

### dumpsys Usage

#### Basic Usage

**Basic Usage:**
- List all services
- Dump specific service
- Dump with options
- Filter output

**Basic Commands:**
```bash
# List all available services
adb shell dumpsys

# Dump specific service
adb shell dumpsys <service_name>

# Dump with options
adb shell dumpsys <service_name> [options]
```

#### Service Listing

**Service Listing:**
- List all registered services
- Show service names
- Identify available services
- Service discovery

**Listing Command:**
```bash
# List all services
adb shell dumpsys

# Output shows all registered services
# Example:
# Currently running services:
#   activity
#   window
#   package
#   ...
```

### Common Service Dumps

#### ActivityManager Dump

**ActivityManager Dump:**
- Activity state
- Process information
- Task stacks
- ANR information

**Dump Commands:**
```bash
# Dump ActivityManager
adb shell dumpsys activity

# Dump activities
adb shell dumpsys activity activities

# Dump processes
adb shell dumpsys activity processes

# Dump tasks
adb shell dumpsys activity tasks
```

**Output Information:**
- Activity stack
- Process list
- Task information
- Activity states

#### WindowManager Dump

**WindowManager Dump:**
- Window state
- Display information
- Window hierarchy
- Input state

**Dump Commands:**
```bash
# Dump WindowManager
adb shell dumpsys window

# Dump windows
adb shell dumpsys window windows

# Dump displays
adb shell dumpsys window displays
```

**Output Information:**
- Window list
- Display configuration
- Window hierarchy
- Input state

#### PackageManager Dump

**PackageManager Dump:**
- Package information
- Permission state
- Component information
- Package statistics

**Dump Commands:**
```bash
# Dump PackageManager
adb shell dumpsys package

# Dump specific package
adb shell dumpsys package <package_name>

# Dump permissions
adb shell dumpsys package permissions
```

**Output Information:**
- Installed packages
- Package details
- Permission grants
- Component information

### dumpsys Output

#### Output Format

**Output Format:**
- Text-based output
- Structured information
- Service-specific format
- Human-readable

**Output Characteristics:**
- **Text-Based:** Text format output
- **Structured:** Structured information
- **Service-Specific:** Format varies by service
- **Readable:** Human-readable format

#### Output Sections

**Output Sections:**
- Service state
- Configuration
- Statistics
- Internal data

**Common Sections:**
- **State:** Current service state
- **Configuration:** Service configuration
- **Statistics:** Service statistics
- **Data:** Internal data structures

### Advanced dumpsys Usage

#### Filtering Output

**Filtering Output:**
- Filter by keyword
- Filter by section
- Extract specific information
- Focused debugging

**Filtering Examples:**
```bash
# Filter output
adb shell dumpsys activity | grep "ActivityRecord"

# Filter by package
adb shell dumpsys activity | grep "com.example.app"

# Filter by keyword
adb shell dumpsys window | grep "WindowState"
```

#### Saving Output

**Saving Output:**
- Save to file
- Save filtered output
- Log dumpsys output
- Persistent storage

**Saving Examples:**
```bash
# Save to file
adb shell dumpsys activity > activity_dump.txt

# Save filtered output
adb shell dumpsys activity | grep "ActivityRecord" > activities.txt

# Save with timestamp
adb shell dumpsys activity > activity_$(date +%Y%m%d_%H%M%S).txt
```

### Service-Specific Dumps

#### ActivityManagerService Dumps

**ActivityManagerService Dumps:**
- Activity stack information
- Process management
- Task management
- ANR information

**Dump Options:**
```bash
# Full ActivityManager dump
adb shell dumpsys activity

# Activities only
adb shell dumpsys activity activities

# Processes only
adb shell dumpsys activity processes

# Tasks only
adb shell dumpsys activity tasks

# Services only
adb shell dumpsys activity services
```

#### WindowManagerService Dumps

**WindowManagerService Dumps:**
- Window information
- Display configuration
- Input state
- Window hierarchy

**Dump Options:**
```bash
# Full WindowManager dump
adb shell dumpsys window

# Windows only
adb shell dumpsys window windows

# Displays only
adb shell dumpsys window displays
```

#### PackageManagerService Dumps

**PackageManagerService Dumps:**
- Package information
- Permission state
- Component information
- Installation state

**Dump Options:**
```bash
# Full PackageManager dump
adb shell dumpsys package

# Specific package
adb shell dumpsys package com.example.app

# Permissions
adb shell dumpsys package permissions
```

### dumpsys Options

#### Common Options

**Common Options:**
- Service-specific options
- Output format options
- Filtering options
- Debugging options

**Option Examples:**
```bash
# Dump with options
adb shell dumpsys activity -a

# Dump specific section
adb shell dumpsys package <package_name> -d

# Dump with verbose output
adb shell dumpsys <service> -v
```

### dumpsys Best Practices

#### Best Practices

**Best Practices:**
- Use specific service names
- Filter output when possible
- Save important dumps
- Understand service-specific options

**Practice Guidelines:**
- **Specificity:** Use specific service names
- **Filtering:** Filter output when possible
- **Saving:** Save important dumps
- **Options:** Understand service-specific options

### Debugging with dumpsys

#### Common Debugging Scenarios

**Scenario 1: Activity Not Starting**
```bash
# Check activity state
adb shell dumpsys activity activities | grep "com.example.app"

# Check process state
adb shell dumpsys activity processes | grep "com.example.app"
```

**Scenario 2: Window Issues**
```bash
# Check window state
adb shell dumpsys window windows | grep "com.example.app"

# Check display configuration
adb shell dumpsys window displays
```

**Scenario 3: Package Issues**
```bash
# Check package state
adb shell dumpsys package com.example.app

# Check permissions
adb shell dumpsys package permissions | grep "com.example.app"
```

### dumpsys Integration

#### Integration with Other Tools

**Integration:**
- Use with logcat
- Use with other tools
- Combine with filters
- Comprehensive debugging

**Integration Examples:**
```bash
# Combine dumpsys and logcat
adb shell dumpsys activity && adb logcat -d

# Use with grep
adb shell dumpsys activity | grep -A 10 "ActivityRecord"
```

## Key Takeaways

1. **dumpsys** is a system tool that dumps the state of Android system services, providing detailed information about service state, configuration, statistics, and internal data structures.

2. **dumpsys usage** includes basic usage (list all services, dump specific service, dump with options), service listing (list all registered services, show service names, identify available services), and basic commands.

3. **Common service dumps** include ActivityManager dump (activity state, process information, task stacks, ANR information), WindowManager dump (window state, display information, window hierarchy), PackageManager dump (package information, permission state, component information), and dump commands.

4. **dumpsys output** includes output format (text-based output, structured information, service-specific format), output sections (service state, configuration, statistics, internal data), and output characteristics.

5. **Advanced dumpsys usage** includes filtering output (filter by keyword, filter by section, extract specific information), saving output (save to file, save filtered output, log dumpsys output), and advanced examples.

6. **Service-specific dumps** include ActivityManagerService dumps (activity stack information, process management, task management), WindowManagerService dumps (window information, display configuration, input state), PackageManagerService dumps (package information, permission state, component information), and dump options.

7. **dumpsys options** include common options (service-specific options, output format options, filtering options, debugging options), option examples, and option usage.

8. **dumpsys best practices** include best practices (use specific service names, filter output when possible, save important dumps, understand service-specific options), practice guidelines, and common debugging scenarios.

9. **Understanding dumpsys** is essential for AOSP development, enabling service state inspection, system debugging, service monitoring, and proper dumpsys usage.

## Related Topics

- **logcat (advanced filters, buffers):** Logcat details
- **dumpstate:** Complete system state dump
- **System Server Overview:** System server details

