---
number: 22
title: Launcher Start-up Sequence
slug: launcher-start-up-sequence
level: beginner
tags:
  - aosp
  - launcher
  - boot
  - startup
  - ui
  - home-screen
  - apps
prerequisites:
  - boot-process-overview
  - system-server-launch
  - zygote-startup-flow
estimated_minutes: 75
contributors: []
diagrams: []
examples: []
canonical_id: aosp-beginner-22
---

# Launcher Start-up Sequence

## Overview

The Launcher is the home screen application that users see and interact with when Android finishes booting. Its startup sequence is the final major phase in the Android boot process, transitioning the device from system initialization to user interaction. Understanding the Launcher startup sequence is essential for comprehending how Android becomes usable, how the user interface is initialized, and how the boot process completes.

Think of the Launcher like the "front door" of a building: just as a building isn't truly "open" until the front door is unlocked and ready for visitors, Android isn't truly "booted" until the Launcher is running and ready for user interaction. The Launcher startup is the moment when the device transitions from a technical boot process to a user-friendly device.

## Deep Explanation

### What is the Launcher?

The Launcher is a special Android application that serves as the home screen and app launcher. It's the first user-facing application to start and provides the primary interface for user interaction with the device.

**Key Characteristics:**
- **Regular App:** Launcher is a standard Android app (not a system service)
- **Home Screen:** Provides the home screen interface
- **App Launcher:** Allows users to launch other applications
- **First App:** First user-facing app to start
- **System App:** Pre-installed as a system application

**Launcher's Role:**
1. **Home Screen:** Displays the home screen with widgets and shortcuts
2. **App Drawer:** Provides access to all installed applications
3. **Recent Apps:** Shows recently used applications
4. **User Interface:** Primary user interaction point

### Why Launcher Starts Last

The Launcher starts last in the boot sequence because it depends on many system components:

**Dependencies:**
- **PackageManager:** Needs to know what apps are installed
- **ActivityManager:** Needs to launch activities and manage app lifecycle
- **WindowManager:** Needs to display windows and handle input
- **DisplayManager:** Needs display information
- **System Services:** Needs various system services to function

**Startup Order:**
1. Kernel initializes
2. Init starts system daemons
3. Zygote starts and preloads
4. System Server starts all services
5. Services become ready
6. **Launcher starts** (finally!)

**Why This Order Matters:**
- Launcher cannot function without services
- Services must be ready before Launcher
- User experience depends on everything working
- Boot process must be complete

### Launcher Startup Sequence

The Launcher startup is a multi-stage process that begins when System Server determines the system is ready. Let's trace through each stage:

#### Stage 1: System Server Determines Readiness

**System Ready Check:**
System Server checks if the system is ready for user interaction:

```java
// In SystemServer.run()
// After all services have started
mActivityManagerService.systemReady(() -> {
    // System is ready
    // Start Launcher
}, BOOT_TIMINGS_TRACE_FILE);
```

**Readiness Criteria:**
- All core services started
- ActivityManager ready
- PackageManager ready
- WindowManager ready
- Display ready
- System properties set

**Timing:**
- Typically 3-5 seconds after boot begins
- After System Server services initialized
- Before user can interact
- Critical for boot time

#### Stage 2: ActivityManager Starts Home Activity

**Home Activity Launch:**
ActivityManager starts the Launcher's home activity:

```java
// In ActivityManagerService.systemReady()
mActivityManagerService.startHomeActivity(currentUserId, "systemReady");
```

**What This Does:**
1. Determines which app is the home app (Launcher)
2. Creates Intent for home activity
3. Starts the home activity
4. Launcher process begins

**Home App Selection:**
- PackageManager determines home app
- Usually "com.android.launcher3" or similar
- Can be customized by OEM
- User can change default home app

**Intent Creation:**
```java
Intent intent = new Intent(Intent.ACTION_MAIN);
intent.addCategory(Intent.CATEGORY_HOME);
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
```

#### Stage 3: Launcher Process Creation

**Process Fork:**
ActivityManager requests Zygote to fork a new process for Launcher:

**Fork Request:**
1. ActivityManager connects to Zygote socket
2. Sends fork request with Launcher details:
   - Package name: "com.android.launcher3"
   - UID: Launcher's UID (usually 10000+)
   - GID: Launcher's GID
   - Main class: Launcher activity class
3. Zygote forks new process
4. Child process becomes Launcher

**Process Inheritance:**
- Inherits all preloaded classes from Zygote
- Inherits preloaded resources
- Inherits native libraries
- Fast startup due to preloading

**Process Configuration:**
- **UID:** Launcher's UID (not system)
- **GID:** Launcher's GID
- **Process Name:** "com.android.launcher3"
- **SELinux Context:** App-specific context

**Timing:**
- Fork happens in milliseconds
- Process creation is fast
- Preloading makes it faster
- Typically 50-100ms

#### Stage 4: Launcher Runtime Initialization

**Java Runtime Setup:**
The forked process sets up Java runtime:

**1. Runtime Initialization:**
- Initialize ART runtime
- Set up class loader
- Load Launcher-specific classes
- Configure process limits

**2. Application Creation:**
```java
// Launcher application class created
Application app = new LauncherApplication();
app.onCreate();
```

**3. Context Setup:**
- Create application context
- Set up resources
- Initialize system services access
- Prepare for activity launch

**Application.onCreate():**
Launcher's Application class initializes:
- Load Launcher configuration
- Initialize Launcher components
- Set up data structures
- Prepare for UI

#### Stage 5: Launcher Activity Creation

**Activity Launch:**
The Launcher's main activity starts:

**1. Activity Creation:**
```java
// Launcher activity created
Activity launcher = new Launcher();
launcher.onCreate(savedInstanceState);
```

**2. Activity Lifecycle:**
- `onCreate()` - Initialize activity
- `onStart()` - Activity becomes visible
- `onResume()` - Activity is interactive

**3. UI Initialization:**
- Inflate layout
- Set up views
- Initialize widgets
- Prepare home screen

**Activity.onCreate():**
Launcher activity initialization:
- Load home screen layout
- Initialize views and widgets
- Set up app drawer
- Prepare for user interaction

#### Stage 6: Home Screen Rendering

**UI Rendering:**
Launcher renders the home screen:

**1. Layout Inflation:**
- Load home screen XML layout
- Create view hierarchy
- Set up view relationships
- Configure view properties

**2. Widget Loading:**
- Load home screen widgets
- Initialize widget providers
- Render widget content
- Update widget displays

**3. Icon Loading:**
- Load app icons
- Cache icon bitmaps
- Display app shortcuts
- Show app drawer icon

**4. Wallpaper Display:**
- Load wallpaper image
- Display wallpaper
- Set up wallpaper service
- Configure wallpaper settings

**Rendering Process:**
- Views created and measured
- Layout calculated
- Views drawn to screen
- Home screen appears

#### Stage 7: App List Loading

**Installed Apps Discovery:**
Launcher discovers all installed applications:

**1. Query PackageManager:**
```java
// Get all installed apps
List<ApplicationInfo> apps = packageManager.getInstalledApplications(0);
```

**2. Filter Apps:**
- Filter system apps (if needed)
- Filter hidden apps
- Sort apps alphabetically
- Group apps by category

**3. Load App Information:**
- Get app names
- Get app icons
- Get app package names
- Get app activities

**4. Create App List:**
- Create list of apps
- Organize for display
- Prepare for app drawer
- Cache app information

**App Drawer:**
- Apps organized in drawer
- Icons loaded and displayed
- Ready for user interaction
- Searchable and sortable

#### Stage 8: Input Handling Setup

**Input System:**
Launcher sets up input handling:

**1. Touch Input:**
- Register touch listeners
- Handle touch events
- Process gestures
- Enable scrolling

**2. Key Input:**
- Handle hardware keys
- Process back button
- Handle menu key
- Process search key

**3. Focus Management:**
- Set up focus handling
- Manage focus navigation
- Handle accessibility
- Support keyboard navigation

**Input Ready:**
- Launcher can receive input
- Gestures work
- Scrolling enabled
- User can interact

#### Stage 9: Animation and Transitions

**Boot Animation:**
Boot animation stops when Launcher is ready:

**Animation Stop:**
- System Server stops boot animation
- Launcher becomes visible
- Smooth transition
- User sees home screen

**Launcher Animations:**
- App launch animations
- Page transition animations
- Widget animations
- Smooth user experience

**Transition:**
- From boot animation to home screen
- Smooth visual transition
- Professional appearance
- Good user experience

#### Stage 10: User Interaction Ready

**Final State:**
Launcher is now fully ready:

**Ready State:**
- Home screen displayed
- Apps loaded and available
- Input handling active
- User can interact

**User Can:**
- Tap app icons to launch apps
- Swipe between home screens
- Open app drawer
- Use widgets
- Interact with device

**Boot Complete:**
- Device is booted
- User can use device
- All systems operational
- Launcher is functional

### Launcher Startup Timeline

**Detailed Timeline:**
- **0ms:** System Server determines readiness
- **10ms:** ActivityManager starts home activity
- **50ms:** Zygote forks Launcher process
- **100ms:** Launcher runtime initialized
- **200ms:** Launcher activity created
- **300ms:** Home screen layout inflated
- **500ms:** Widgets and icons loading
- **800ms:** App list loaded
- **1000ms:** Input handling ready
- **1200ms:** Launcher fully ready
- **1500ms:** User can interact

**Total Launcher Startup:**
- Typically 1-2 seconds
- Depends on number of apps
- Depends on device performance
- Critical for user experience

**Factors Affecting Time:**
- Device performance (CPU, GPU)
- Number of installed apps
- Number of widgets
- Storage speed
- System load

### Launcher Process Characteristics

**Process Identity:**
- **Name:** "com.android.launcher3" (or variant)
- **UID:** App UID (usually 10000+)
- **GID:** App GID
- **PID:** Varies (process ID)
- **PPID:** Zygote's PID

**Process Limits:**
- **Memory:** App memory limit
- **CPU:** Normal priority
- **File Descriptors:** App limit
- **Threads:** App limit

**Process State:**
- **State:** Running
- **Priority:** Foreground (user-visible)
- **Scheduling:** Interactive priority
- **Isolation:** Isolated from other apps

### Launcher Variants

**AOSP Launcher (Launcher3):**
- Default AOSP launcher
- Basic functionality
- Open source
- Customizable

**OEM Launchers:**
- Samsung One UI
- Xiaomi MIUI Launcher
- OnePlus Launcher
- Custom OEM launchers

**Third-Party Launchers:**
- Nova Launcher
- Action Launcher
- Microsoft Launcher
- User-installed launchers

**Launcher Selection:**
- User can set default launcher
- Multiple launchers can be installed
- User chooses which to use
- System remembers choice

### Launcher and Boot Complete

**BOOT_COMPLETED Broadcast:**
When Launcher is ready, system sends boot complete:

**Broadcast Timing:**
- Sent when system is fully ready
- Launcher may receive it
- All apps can receive it
- Indicates boot is complete

**Boot Complete Actions:**
- Apps can start background services
- Apps can schedule jobs
- System is fully operational
- User can use device

**User Experience:**
- Boot animation stops
- Home screen appears
- User can interact
- Device is ready

### Launcher Restart

**When Launcher Crashes:**
- ActivityManager detects crash
- ActivityManager restarts Launcher
- Launcher goes through startup again
- User sees home screen again

**Restart Impact:**
- User sees Launcher restart
- Home screen reloads
- Apps reload
- Minimal user impact

**Crash Handling:**
- Logs crash information
- Generates crash report
- Restarts automatically
- Maintains user experience

### Debugging Launcher Startup

**Logging:**
Launcher logs to logcat:
- Tag: "Launcher" or package name
- Filter: `adb logcat -s Launcher`

**Key Log Points:**
- Process creation
- Activity creation
- UI initialization
- App loading
- Startup timing

**Debugging Tools:**
- `adb logcat` - View Launcher logs
- `adb shell dumpsys activity` - Activity state
- `adb shell ps | grep launcher` - Process info
- Boot timing traces

**Common Issues:**
- Launcher not starting
- Slow startup
- App icons not loading
- Widget issues
- Crash on startup

### Launcher Optimization

**Startup Time Optimization:**
- Lazy loading of apps
- Icon caching
- Widget optimization
- Layout optimization

**Memory Optimization:**
- Efficient icon loading
- Widget memory management
- View recycling
- Resource cleanup

**Performance Optimization:**
- Smooth animations
- Fast app launching
- Efficient scrolling
- Responsive UI

**User Experience:**
- Fast startup
- Smooth interactions
- Reliable operation
- Good performance

## Key Takeaways

1. **Launcher is the final phase** in Android boot, starting after all system services are ready and providing the user interface.

2. **Launcher starts last** because it depends on many system services including PackageManager, ActivityManager, and WindowManager.

3. **Launcher is a regular Android app** forked from Zygote, inheriting all preloaded classes for fast startup.

4. **Launcher startup sequence** involves process creation, runtime initialization, activity creation, UI rendering, and app list loading.

5. **Home screen rendering** includes loading widgets, icons, wallpaper, and preparing the app drawer for user interaction.

6. **Launcher becomes ready** when the home screen is displayed, apps are loaded, and input handling is active.

7. **Boot animation stops** when Launcher is ready, providing a smooth transition to the user interface.

8. **Understanding Launcher startup** is essential for optimizing boot time, debugging UI issues, and improving user experience.

## Related Topics

- **System Server Launch:** The process that determines system readiness and starts the Launcher
- **Zygote Startup Flow:** The process that forks the Launcher application process
- **Boot Process Overview:** The complete boot sequence that includes Launcher startup
- **ActivityManagerService:** The service that manages Launcher activity lifecycle

