---
number: 14
title: "ARCore & Augmented Reality"
slug: "arcore-augmented-reality"
level: "advanced"
tags: ["arcore", "ar", "augmented-reality", "3d", "computer-vision"]
prerequisites: []
estimated_minutes: 60
contributors: []
diagrams: []
examples: []
canonical_id: "android-advanced-14"
---



# ARCore & Augmented Reality

## Overview

ARCore is Google's platform for building augmented reality experiences on Android. It enables apps to understand the environment, track device motion, and render 3D content in the real world. This guide covers ARCore setup, plane detection, object placement, and creating immersive AR experiences.

## Deep Explanation

### ARCore Capabilities

- **Motion Tracking**: Understands device position and orientation
- **Environmental Understanding**: Detects horizontal and vertical surfaces
- **Light Estimation**: Estimates lighting conditions
- **Depth API**: Understands depth and occlusion

### Use Cases

- Furniture placement apps
- AR navigation
- Gaming experiences
- Educational content
- Shopping try-on features

## Real Code Examples

### Basic ARCore Setup

```kotlin
// Add dependencies:
// implementation 'com.google.ar:core:1.40.0'
// implementation 'com.google.ar.sceneform:core:1.17.1'

class ARActivity : AppCompatActivity() {
    private lateinit var arFragment: ArFragment
    private var installed = false
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // Check ARCore availability
        if (!checkIsSupportedDeviceOrFinish()) {
            return
        }
        
        setContentView(R.layout.activity_ar)
        arFragment = supportFragmentManager.findFragmentById(R.id.ar_fragment) as ArFragment
        
        arFragment.setOnTapArPlaneListener { hitResult, plane, motionEvent ->
            placeObject(hitResult.createAnchor())
        }
    }
    
    private fun checkIsSupportedDeviceOrFinish(): Boolean {
        val availability = ArCoreApk.getInstance().checkAvailability(this)
        if (availability.isTransient) {
            ArCoreApk.getInstance().requestInstall(this, true) { installStatus ->
                if (installStatus == InstallStatus.INSTALLED) {
                    installed = true
                }
            }
        }
        return availability.isSupported
    }
    
    private fun placeObject(anchor: Anchor) {
        val anchorNode = AnchorNode(anchor)
        anchorNode.setParent(arFragment.arSceneView.scene)
        
        val model = ModelRenderable.builder()
            .setSource(this, Uri.parse("model.sfb"))
            .build()
            .thenAccept { renderable ->
                val node = TransformableNode(arFragment.transformationSystem)
                node.renderable = renderable
                node.setParent(anchorNode)
            }
    }
}
```

### Plane Detection

```kotlin
class ARPlaneDetectionActivity : AppCompatActivity() {
    private lateinit var arFragment: ArFragment
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_ar)
        
        arFragment = supportFragmentManager.findFragmentById(R.id.ar_fragment) as ArFragment
        
        // Enable plane detection
        arFragment.arSceneView.scene.addOnUpdateListener { frame ->
            val planes = frame.getUpdatedTrackables(Plane::class.java)
            planes.forEach { plane ->
                if (plane.trackingState == TrackingState.TRACKING) {
                    // Plane detected, render visualization
                    renderPlane(plane)
                }
            }
        }
    }
}
```

## Common Pitfalls

### Problem: Not checking device compatibility

**BAD:**
```kotlin
// Crashes on unsupported devices
val session = Session(this)
```

**GOOD:**
```kotlin
if (ArCoreApk.getInstance().checkAvailability(this).isSupported) {
    val session = Session(this)
}
```

## Quiz

1. What does ARCore use for motion tracking?
   - **A)** GPS
   - **B)** Camera and sensors
   - **C)** Bluetooth
   - **D)** WiFi

2. What is required for ARCore to work?
   - **A)** Internet connection
   - **B)** ARCore support library installed
   - **C)** Specific Android version only
   - **D)** External sensors

**Answers:**
1. **B** - ARCore uses camera and device sensors for motion tracking
2. **B** - ARCore support library must be installed on the device

## Next Steps

- [Designing Custom Renderers](../04_overachiever/01.%20Designing%20Custom%20Renderers.md) - Custom rendering

